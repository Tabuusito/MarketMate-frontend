<app-header></app-header>
<router-outlet></router-outlet>
<div class="container mt-5">
    <div class="row">
      <div class="col">
        <mat-form-field appearance="fill">
          <mat-label>Mes</mat-label>
          <input type="number" matInput placeholder="Mes (1-12)" [formControl]="mesSeleccionado">
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field appearance="fill">
          <mat-label>Año</mat-label>
          <input type="number" matInput placeholder="Año" [formControl]="anhoSeleccionado">
        </mat-form-field>
      </div>
      <div class="col d-flex align-items-end">
        <button mat-raised-button color="primary" (click)="buscarCajas()">Buscar Cajas</button>
      </div>
    </div>
    <div *ngIf="cajas.length > 0" class="mt-4">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Fecha</th>
            <th>ID Primer Ticket</th>
            <th>ID Último Ticket</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let caja of cajas">
            <td>{{ caja.fecha | date: 'dd/MM/yyyy' }}</td>
            <td>{{ caja.primerTicket?.id || 'No hay' }}</td>
            <td>{{ caja.ultimoTicket?.id || 'No hay' }}</td>
            <td>{{ caja.total | currency:'EUR' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div *ngIf="cajas.length === 0" class="alert alert-info mt-4">No se encontraron resultados para la búsqueda.</div>
  </div>
  